<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.control.TitledPane?>
<?import javafx.scene.control.Accordion?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.HBox?>

<BorderPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.universitymanagement.controller.MenuBarController">

    <!-- Main content area -->
    <center>
        <StackPane fx:id="contentArea" style="-fx-background-color: #f5f5f5;">
            <Label text="Welcome to University Management System" style="-fx-font-size: 24px;" />
        </StackPane>
    </center>

    <!-- Left sidebar - will be shown/hidden with animation -->
    <left>
        <HBox>
            <!-- Hamburger menu button that's always visible -->
            <VBox alignment="TOP_CENTER" style="-fx-background-color: #222; -fx-padding: 10;">
                <Button fx:id="menuToggleButton" text="â˜°"
                        style="-fx-background-color: transparent; -fx-text-fill: white; -fx-font-size: 20px;"
                        onAction="#toggleMenu"/>
            </VBox>

            <!-- Collapsible sidebar -->
            <VBox fx:id="sidebarMenu" prefWidth="250"
                  style="-fx-background-color: #333; -fx-padding: 10;">

                <Label text="University Management"
                       style="-fx-text-fill: white; -fx-font-size: 16px; -fx-padding: 10 0 20 0;" />

                <!-- Accordion for Collapsible Sections -->
                <Accordion fx:id="menuAccordion" VBox.vgrow="ALWAYS">
                    <panes>
                        <!-- Dashboard Section -->
                        <TitledPane text="Dashboard" style="-fx-text-fill: white;">
                            <content>
                                <VBox spacing="5">
                                    <children>
                                        <Button text="Home" onAction="#loadDashboard"
                                                style="-fx-background-color: #444; -fx-text-fill: white; -fx-padding: 10; -fx-pref-width: 230;" />
                                        <Button text="Logout" onAction="#handleLogout"
                                                style="-fx-background-color: #B22222; -fx-text-fill: white; -fx-padding: 10; -fx-pref-width: 230;" />
                                    </children>
                                </VBox>
                            </content>
                        </TitledPane>

                        <!-- Management Section -->
                        <TitledPane text="Management" fx:id="managementPane" style="-fx-text-fill: white;">
                            <content>
                                <VBox spacing="5">
                                    <children>
                                        <Button text="Course Management" onAction="#loadCourseManagement"
                                                style="-fx-background-color: #444; -fx-text-fill: white; -fx-padding: 10; -fx-pref-width: 230;" />
                                        <Button text="Subject Management" onAction="#loadSubjectManagement"
                                                style="-fx-background-color: #444; -fx-text-fill: white; -fx-padding: 10; -fx-pref-width: 230;" />
                                        <Button text="Student Management" onAction="#loadStudentManagement" fx:id="studentMenu"
                                                style="-fx-background-color: #444; -fx-text-fill: white; -fx-padding: 10; -fx-pref-width: 230;" />
                                        <Button text="Faculty Management" onAction="#loadFacultyManagement" fx:id="facultyMenu"
                                                style="-fx-background-color: #444; -fx-text-fill: white; -fx-padding: 10; -fx-pref-width: 230;" />
                                        <Button text="Event Management" onAction="#loadEventManagement"
                                                style="-fx-background-color: #444; -fx-text-fill: white; -fx-padding: 10; -fx-pref-width: 230;" />
                                        <Button text="User Management" onAction="#loadUserManagement" fx:id="adminMenu"
                                                style="-fx-background-color: #444; -fx-text-fill: white; -fx-padding: 10; -fx-pref-width: 230;" />
                                        <Button text="Reports" onAction="#loadReports" fx:id="adminReportMenu"
                                                style="-fx-background-color: #444; -fx-text-fill: white; -fx-padding: 10; -fx-pref-width: 230;" />
                                    </children>
                                </VBox>
                            </content>
                        </TitledPane>
                    </panes>
                </Accordion>
            </VBox>
        </HBox>
    </left>
</BorderPane>